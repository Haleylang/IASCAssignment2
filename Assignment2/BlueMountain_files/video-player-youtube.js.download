define("video-player-youtube",function(require){"use strict";var $=require("jquery");var defaults={onBuffer:$.noop,onCue:$.noop,onPause:$.noop,onPlay:$.noop,onPlayerReady:$.noop,onReady:$.noop,onStop:$.noop,onFinish:$.noop,onTogglePlayback:$.noop,onVideoStopped:$.noop},global={isApiReady:false,scriptAdded:false};function bind(youtube){youtube.init=init.bind(youtube);youtube.pause=pause.bind(youtube);youtube.play=play.bind(youtube);youtube.stop=stop.bind(youtube);youtube.mute=mute.bind(youtube);youtube.getDimensions=getDimensions.bind(youtube);youtube.togglePlayback=togglePlayback.bind(youtube);youtube.isPlay=isPlay.bind(youtube);youtube.onApiReady=onApiReady.bind(youtube);youtube.onPlayerReady=onPlayerReady.bind(youtube);youtube.onPlayerStateChange=onPlayerStateChange.bind(youtube)}function create(id,element,options){var youtube={};youtube.options=$.extend({},defaults,options);youtube.element=element;youtube.id=id;bind(youtube);youtube.init();return youtube}function init(){if(!global.scriptAdded){var tag=document.createElement("script");var firstScriptTag=document.getElementsByTagName("script")[0];tag.onload=function(){var intervalTimeout=10;var loadYt=setInterval(function(){if(typeof YT!=="undefined"&&YT&&YT.loaded){$(document).trigger("onYoutubeApiReady");clearInterval(loadYt)}intervalTimeout--;if(intervalTimeout<1){clearInterval(loadYt)}},50)};tag.src="https://www.youtube.com/iframe_api";firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);global.scriptAdded=true;$(document).on("onYoutubeApiReady",function(){global.isApiReady=true})}this.isReady=false;if(!global.isApiReady){$(document).on("onYoutubeApiReady",this.onApiReady)}else{this.onApiReady()}}function pause(){if(this.isReady&&this.player.getPlayerState()===1){this.player.pauseVideo();this.options.onPause();return true}return false}function play(){if(this.isReady){this.player.playVideo();this.options.onPlay()}}function stop(){if(this.isReady){this.player.stopVideo();this.options.onStop()}}function isPlay(){return this.isReady&&this.player.getPlayerState()===1}function mute(){}function getDimensions(callback){var width=1920,height=1080;callback({width:width,height:height,aspectRatio:width/height})}function togglePlayback(){if(this.isReady){if(this.player.getPlayerState()!==1){this.player.playVideo()}else{this.player.pauseVideo()}this.options.onTogglePlayback()}}function onApiReady(){var self=this;var $element=$(self.element);var apiObject={rel:0,playlist:self.id,enablejsapi:1,modestbranding:1};if($element.data("mute")!==undefined){apiObject.mute=$element.data("mute")}if($element.data("autoplay")!==undefined){apiObject.autoplay=$element.data("autoplay")}if($element.data("loop")!==undefined){apiObject.loop=$element.data("loop")}if($element.data("controls")!==undefined){apiObject.controls=$element.data("controls")}if($element.data("playsinline")!==undefined){apiObject.playsinline=$element.data("playsinline")}self.player=new YT.Player($element.attr("id"),{height:"1920",width:"1080",videoId:self.id,playerVars:apiObject,host:"https://www.youtube-nocookie.com",events:{onReady:self.onPlayerReady,onStateChange:self.onPlayerStateChange}})}function onPlayerReady(){this.isReady=true;this.options.onReady()}function onPlayerStateChange(state){switch(state.data){case-1:break;case YT.PlayerState.BUFFERING:this.options.onCue();break;case YT.PlayerState.ENDED:this.options.onFinish();break;case YT.PlayerState.PLAYING:this.play();break;case YT.PlayerState.PAUSED:this.pause();break;default:break}}return{create:create}});