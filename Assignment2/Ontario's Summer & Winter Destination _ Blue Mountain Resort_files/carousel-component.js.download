define(function(require){"use strict";var $=require("jquery"),carouselLightboxVideoModule=require("carousel-lightbox-video-module");function create(){var carouselComponent={};bind(carouselComponent);carouselComponent.cacheDom();carouselComponent.init()}function bind(carouselComponent){carouselComponent.cacheDom=cacheDom.bind(carouselComponent);carouselComponent.init=init.bind(carouselComponent)}function cacheDom(){this.dom={};this.dom.pageComponentWrappers=$(".carousel-with-lightbox-wrapper");this.dom.lightboxes=$(".lightbox");this.dom.allCarousels=$(".carousel");this.dom.allCarouselVideos=this.dom.allCarousels.find(".video")}function init(){var self=this,hasPageComponentWrapper=self.dom.pageComponentWrappers.length>0,pageCarousels=hasPageComponentWrapper?self.dom.pageComponentWrappers:self.dom.allCarousels,pageCarouselVideos=self.dom.allCarouselVideos;self.carouselLightboxVideo=carouselLightboxVideoModule.create({$carousels:pageCarousels,$lightboxes:self.dom.lightboxes,$videos:pageCarouselVideos})}create()});