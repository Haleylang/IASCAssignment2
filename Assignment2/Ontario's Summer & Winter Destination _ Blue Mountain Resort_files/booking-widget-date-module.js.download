define("booking-widget-date-module",function(require){"use strict";var $=require("jquery");var datePicker=require("date-picker");var self={settings:{pickers:[],datePickerOptions:{display:1,ranged:false,dateChange:null,inline:true,dark:false}},init:function(options){self.settings=$.extend({},self.settings,options)},setupDatePickers:function(dateSelectors){dateSelectors.each(function(){var container=$(this);if(container.length==0){return}var picker=$(".date-picker",container);self.settings.datePickerOptions=$.extend(self.settings.datePickerOptions,{min:function(){return new Date(container.data("min-date"))}()});if(picker.length==0||typeof picker.get!=="function"||picker.get().length==0){return}var pickerObj=datePicker.create(picker.get()[0],self.settings.datePickerOptions);self.settings.pickers.push(pickerObj)});return self.settings.pickers},getI18n:function(){var i18Nlang;var winLang=document.documentElement.lang;if(winLang&&winLang.startsWith("fr")){i18Nlang={previousMonth:"",nextMonth:"",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["jan","fév","mar","avr","mai","jun","jul","aoû","sep","oct","nov","déc"],weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["D","L","M","M","J","V","S"]}}else{i18Nlang={previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["S","M","T","W","T","F","S"]}}return i18Nlang},getDisplayDateFullMonthFirst:function(d){return d?self.getI18n().monthsShort[d.getMonth()]+" "+d.getDate():""},formatDateSelection:function(d){var incrementDate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!d&&typeof d.getMonth!=="function"){return""}return d.getFullYear()+"-"+(d.getMonth()+1)+"-"+(incrementDate?d.getDate()+1:d.getDate())},dateSelectorReset:function(el,dateSelectors,force){var element=$(el.currentTarget);var opens=element.parent().find(".open");if(opens.length>0&&element.parent().find(".opening").length>0){opens.removeClass("open")}if(opens.length>1){opens.filter(function(){return $(this).find(".date-container").length>0?true:false}).removeClass("open")}if(element.hasClass("opening")){element.removeClass("opening");element.addClass("open");if(!force){return}}var container=$(el.target).closest(".booking-option");dateSelectors.each(function(){var selectorItem=$(this);if(force===true){selectorItem.removeClass("open");return}if(selectorItem.length==0){return}if(container.data("sitecore-id")===selectorItem.data("sitecore-id")){return}selectorItem.removeClass("open")})}};return{init:self.init,setupDatePickers:self.setupDatePickers,getDisplayDateFullMonthFirst:self.getDisplayDateFullMonthFirst,formatDateSelection:self.formatDateSelection,dateSelectorReset:self.dateSelectorReset}});