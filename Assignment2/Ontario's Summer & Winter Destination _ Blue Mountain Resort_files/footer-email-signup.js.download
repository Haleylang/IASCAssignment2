define(function(require){"use strict";var $=require("jquery"),helpers=require("helpers"),self={},dom;init();return self;function init(){cacheDom();initializeSignupModule()}function cacheDom(){dom={};dom.emailSignupArea=$(".footer-email-signup")}function initializeSignupModule(){dom.emailSignupArea.each(function(){var $this=$(this);var signupButton=$this.find(".signup-button");if(signupButton){signupButton.click(function(event){event.preventDefault();event.stopPropagation();var button=$(this);var emailInputVal=$this.find(".email-signup-input").val();var hrefVal=button.attr("href");if(emailInputVal!==""&&helpers.validEmail(emailInputVal)){button.attr("href",hrefVal+"?emailSignup="+encodeURIComponent(emailInputVal))}window.open(button.attr("href"),"_blank");button.attr("href",hrefVal)})}var submitButton=$this.find(".submit-button");if(submitButton){submitButton.click(function(event){event.preventDefault();event.stopPropagation();var form=$this.find(".email-signup-form");form.submit()})}})}});